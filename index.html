<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <title>Sitzplangenerator</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="libs/fontawesome/css/all.min.css?v=7.1.0">
</head>

<body>
    <div id="header">
        <h1>
            Sitzplangenerator
            <a href="help.html" style="display:inline-block; cursor:pointer;" title="Benutzungsanleitung">
                <div id="help-icon"><i class="fa-solid fa-circle-info"></i></div>
            </a>
        </h1>
        <div id="control-section">
            <div id="primary-controls">
                <div class="controls secondary">
                    Anzahl Sitzplätze: <input type="number" id="seatCount" value="0" min="1">
                    <button onclick="createSeats()"><i class="fa-solid fa-object-ungroup"></i> Sitzplätze neu zeichnen</button>
                    <button id="clear-seats" onclick="clearSeats()" style="display: none;"><i class="fa-solid fa-eraser"></i> Sitzplätze leeren</button><br><br>

                    Namen (semikolon-getrennt): <input type="text" id="namesInput" size="50">
                    <div id="edit-icon"><i class="fa-solid fa-pen-to-square"></i></div><br><br>
                    
                    <button onclick="saveSeats()"><i class="fa-solid fa-floppy-disk"></i> Sitzplätze speichern</button>
                    <button onclick="saveNames()"><i class="fa-solid fa-floppy-disk"></i> Namen speichern</button>
                    <button onclick="deleteLocalStorage()"><i class="fa-solid fa-trash"></i> Speicher löschen</button>
                </div>
                <div class="controls primary">
                    <button onclick="assignNames(false)" class="important"><i class="fa-solid fa-arrows-down-to-people"></i> Namen übertragen</button>
                    <button onclick="assignNames()" class="important"><i class="fa-solid fa-shuffle"></i> Sitzplätze auslosen</button>
                    <button id="exportBtn"><i class="fa-solid fa-download"></i> PDF Export</button>
                </div>
            </div>
            <div class="advanced-container">
                <div class="advanced-header">
                    <h3>Erweiterter Modus</h3>
                    <label class="switch">
                        <input type="checkbox" id="advanced-toggle">
                        <span class="slider"></span>
                    </label>
                </div>
                <div id="advanced-controls">
                    <div id="import-export" class="controls">
                        <input type="file" id="importFile" accept=".json" style="display:none;">
                        <button onclick="importSeats()" class="secondary"><i class="fa-solid fa-file-import"></i> Sitzplätze importieren</button>
                        <button onclick="importNames()" class="secondary"><i class="fa-solid fa-file-import"></i> Namen importieren</button>
                        <button onclick="exportSeats()" class="primary"><i class="fa-solid fa-download"></i> Sitzplätze exportieren</button>
                        <button onclick="exportNames()" class="primary"><i class="fa-solid fa-download"></i> Namen exportieren</button>
                    </div>
                    <div class="controls secondary">
                        <div>Feste Elemente hinzufügen:    
                            <button onclick="addFixedElement('desk')"><i class="fa-solid fa-briefcase"></i> Pult</button>
                            <button onclick="addFixedElement('board')"><i class="fa-solid fa-chalkboard"></i> Tafel</button>
                            <button onclick="addFixedElement('door')"><i class="fa-solid fa-door-open"></i> Tür</button>
                            <button onclick="addFixedElement('window')"><i class="fa-solid fa-table"></i> Fenster</button>
                        </div>
                    </div>
                    <div class="controls">
                        Countdown bei Auslosung aktivieren:
                        <input type="checkbox" id="countdown-checkbox">
                    </div>
                    <div class="controls">
                        Sitzplatznummern anzeigen:
                        <input type="checkbox" id="seatNumber-checkbox">
                    </div>
                    <div class="controls">
                        Sitzplatzverbindungen aktivieren:
                        <input type="checkbox" id="seatConnector-checkbox">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="canvas"></div>

    <svg id="connection-layer" style="position:absolute; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:0;"></svg>


    <div id="exportOverlay" class="export-overlay" style="display: none;">
        <div class="export-popup">
            <h3 class="export-popup-header">PDF Export</h3>

            <label>
            Name der Klasse:<br>
            <input type="text" id="className" class="export-input">
            </label><br><br>

            <label>
            Stand:<br>
            <input type="date" id="dateFrom" class="export-input">
            </label><br><br>

            <label>
            Gültig bis:<br>
            <input type="date" id="dateTo" class="export-input">
            </label><br><br>

            <label>
            Name der Lehrkraft:<br>
            <input type="text" id="teacherName" class="export-input">
            </label><br><br>

            <div class="export-button-section">
                <button id="exportPdfBtn" class="export-btn primary">Exportieren</button>
                <button id="cancelExportBtn" class="export-btn cancel secondary">Abbrechen</button>
            </div>

        </div>
    </div>

    <div id="footer">
        <a href="impressum.html">Impressum</a> & <a href="datenschutz.html">Datenschutzerklärung</a>  & <a href="https://github.com/mexterng/SeatplanGenerator">Quellcode</a>
    </div>

    <script src="libs/html2canvas.min.js?v=1.4.1"></script>
    <script src="libs/jspdf.umd.min.js?v=2.5.1"></script>
    <script src="js/general.js"></script>
    <script src="js/script.js"></script>
    <script src="js/advanced-tools.js"></script>
    <script src="js/pdf-export.js"></script>
</body>

</html>